# 3d-model-coordinate-extraction-considerations.md

`src\shared\utils\commonUtils.ts` 파일의 `getPreciseBoundingBox` 함수 참고

### 추출 방식 설명
1. **월드 매트릭스 업데이트**: `updateMatrixWorld(true)`로 모든 자식 노드의 월드 좌표를 업데이트
2. **자식 노드 순회**: 대상 노드의 모든 자식 노드를 순회하며 메쉬를 찾음
3. **지오메트리 바운딩 박스**: 각 메쉬의 geometry.boundingBox를 가져와 월드 좌표로 변환
4. **바운딩 박스 병합**: 모든 메쉬의 바운딩 박스를 하나로 병합
5. **예외 처리**: 메쉬가 없거나 바운딩 박스가 빈 경우, 노드 위치를 중심으로 1x1x1 크기의 박스 생성
### 고려할 점
- **정확성**: 월드 매트릭스를 반드시 업데이트해야 정확한 좌표가 추출됨
- **성능**: 대상 노드의 자식 노드 수가 많을 경우 순회에 시간이 걸릴 수 있음
- **복잡한 모델**: 중첩된 그룹이나 변형이 적용된 모델의 경우 바운딩 박스 계산이 복잡해질 수 있음